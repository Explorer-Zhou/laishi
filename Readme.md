# æ¥é£Ÿ - æ™ºèƒ½é¥®é£Ÿæ¨èç³»ç»Ÿ

## é¡¹ç›®ç®€ä»‹
"æ¥é£Ÿ"æ˜¯ä¸€æ¬¾æ™ºèƒ½é¥®é£Ÿæ¨èç³»ç»Ÿï¼Œæ—¨åœ¨å¸®åŠ©ç”¨æˆ·è§£å†³"å¾…ä¼šåƒä»€ä¹ˆ"çš„é—®é¢˜ã€‚ç³»ç»ŸåŸºäºç”¨æˆ·çš„å£å‘³åå¥½ã€è¿‘æœŸè¥å…»æ‘„å–æƒ…å†µï¼Œé€šè¿‡å…¼å®¹OpenAI APIçš„LLMæä¾›ä¸ªæ€§åŒ–çš„é£Ÿç‰©æ¨èï¼Œå¹¶ç»“åˆé«˜å¾·åœ°å›¾APIæ¨èé™„è¿‘æä¾›è¯¥é£Ÿç‰©çš„é¤é¦†ã€‚

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ¯ **æ™ºèƒ½é£Ÿç‰©æ¨è**ï¼šåŸºäºç”¨æˆ·åå¥½å’Œè¥å…»æ•°æ®ï¼Œé€šè¿‡LLMç”Ÿæˆä¸ªæ€§åŒ–æ¨è
- ğŸ“Š **è¥å…»æ‘„å…¥åˆ†æ**ï¼šè®°å½•å’Œåˆ†æè¿‘æœŸè¥å…»æ‘„å…¥æƒ…å†µ
- ğŸ“ **é™„è¿‘é¤é¦†æ¨è**ï¼šåŸºäºé«˜å¾·åœ°å›¾APIï¼Œæ ¹æ®æ¨èé£Ÿç‰©æŸ¥æ‰¾é™„è¿‘åº—é“º
- ğŸ‘¤ **è‡ªå®šä¹‰ç”¨æˆ·å**ï¼šæ— éœ€ç™»å½•ï¼Œè®¾ç½®è‡ªå®šä¹‰åç§°å³å¯ä½¿ç”¨
- âš™ï¸ **APIå¯†é’¥é…ç½®**ï¼šæ”¯æŒç”¨æˆ·è‡ªè¡Œé…ç½®OpenAIå’Œé«˜å¾·åœ°å›¾APIå¯†é’¥

### æ¬¡è¦åŠŸèƒ½
- ğŸ½ï¸ **å£å‘³åå¥½è®¾ç½®**ï¼šæ”¯æŒè®¾ç½®å£å‘³ã€é¥®é£Ÿé™åˆ¶ã€èœç³»åå¥½ç­‰
- ğŸ“ˆ **è¥å…»ç»Ÿè®¡**ï¼šæŸ¥çœ‹æ¯å‘¨/æ¯æœˆè¥å…»æ‘„å…¥è¶‹åŠ¿
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ä¸åŒè®¾å¤‡å°ºå¯¸
- ğŸ¨ **ç°ä»£åŒ–UI**ï¼šç¾è§‚ã€æ˜“ç”¨çš„ç”¨æˆ·ç•Œé¢

## æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**ï¼šExpress.js
- **æ•°æ®åº“**ï¼šSQLite
- **LLMæœåŠ¡**ï¼šOpenAIå…¼å®¹API
- **åœ°å›¾æœåŠ¡**ï¼šé«˜å¾·åœ°å›¾API
- **è¯­è¨€**ï¼šJavaScript

### å‰ç«¯
- **æ¡†æ¶**ï¼šReact + Vite
- **è·¯ç”±**ï¼šReact Router
- **APIè°ƒç”¨**ï¼šAxios
- **è¯­è¨€**ï¼šJavaScript

## å®‰è£…ä¸è¿è¡Œ

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- npm >= 9.0.0

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/your-username/laishi.git
   cd laishi
   ```

2. **å®‰è£…åç«¯ä¾èµ–**
   ```bash
   cd backend
   npm install
   ```

3. **é…ç½®åç«¯ç¯å¢ƒå˜é‡**
   ```bash
   cp .env.example .env
   # ç¼–è¾‘.envæ–‡ä»¶ï¼Œå¡«å†™APIå¯†é’¥ç­‰é…ç½®
   ```

4. **å®‰è£…å‰ç«¯ä¾èµ–**
   ```bash
   cd ../frontend
   npm install
   ```

### è¿è¡Œé¡¹ç›®

1. **å¯åŠ¨åç«¯æœåŠ¡**
   ```bash
   cd backend
   node index.js
   # æœåŠ¡å°†è¿è¡Œåœ¨ http://localhost:3001
   ```

2. **å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨**
   ```bash
   cd frontend
   npm run dev
   # æœåŠ¡å°†è¿è¡Œåœ¨ http://localhost:5173
   ```

3. **è®¿é—®åº”ç”¨**
   æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:5173

## ä½¿ç”¨è¯´æ˜

1. **é¦–æ¬¡ä½¿ç”¨**
   - è®¾ç½®è‡ªå®šä¹‰ç”¨æˆ·å
   - é…ç½®OpenAIå’Œé«˜å¾·åœ°å›¾APIå¯†é’¥
   - è®¾ç½®é¥®é£Ÿåå¥½

2. **è·å–æ¨è**
   - è¿›å…¥é¦–é¡µï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆä»Šæ—¥æ¨è
   - ç‚¹å‡»"åˆ·æ–°æ¨è"è·å–æ–°çš„æ¨è
   - ç‚¹å‡»"æŸ¥çœ‹é™„è¿‘æä¾›è¯¥é£Ÿç‰©çš„åº—é“º"æŸ¥çœ‹é™„è¿‘é¤é¦†

3. **æŸ¥çœ‹è¥å…»åˆ†æ**
   - è¿›å…¥"è¥å…»åˆ†æ"é¡µé¢
   - æŸ¥çœ‹è¿‘æœŸè¥å…»æ‘„å…¥æƒ…å†µ
   - åˆ‡æ¢æŸ¥çœ‹æ¯å‘¨/æ¯æœˆç»Ÿè®¡

4. **æ›´æ–°åå¥½**
   - è¿›å…¥"åå¥½è®¾ç½®"é¡µé¢
   - ä¿®æ”¹å£å‘³ã€é¥®é£Ÿé™åˆ¶ç­‰è®¾ç½®
   - ä¿å­˜åï¼Œæ¨èä¼šæ ¹æ®æ–°è®¾ç½®æ›´æ–°

## APIç«¯ç‚¹

### ç”¨æˆ·ç›¸å…³
- `POST /api/users` - åˆ›å»ºç”¨æˆ·
- `GET /api/users/:name` - è·å–ç”¨æˆ·ä¿¡æ¯
- `GET /api/users/:name/preferences` - è·å–ç”¨æˆ·åå¥½
- `PUT /api/users/:name/preferences` - æ›´æ–°ç”¨æˆ·åå¥½

### è¥å…»ç›¸å…³
- `POST /api/nutrition/record` - è®°å½•è¥å…»æ‘„å…¥
- `GET /api/nutrition/analysis/:userName` - è·å–è¥å…»åˆ†æ
- `GET /api/nutrition/records/:userName` - è·å–è¥å…»è®°å½•
- `GET /api/nutrition/stats/:userName` - è·å–è¥å…»ç»Ÿè®¡

### æ¨èç›¸å…³
- `GET /api/recommendations/food/:userName` - è·å–é£Ÿç‰©æ¨è
- `GET /api/recommendations/nearby` - è·å–é™„è¿‘åº—é“º
- `GET /api/recommendations/history/:userName` - è·å–æ¨èå†å²

## é¡¹ç›®ç»“æ„

```
laishi/
â”œâ”€â”€ backend/                # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/    # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ routes/         # è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ llm.service.js       # LLMæ¨èæœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ nutrition.service.js # è¥å…»åˆ†ææœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ amap.service.js      # é«˜å¾·åœ°å›¾æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ middleware/     # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ database/           # SQLiteæ•°æ®åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ .env                # ç¯å¢ƒå˜é‡
â”œâ”€â”€ frontend/               # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.jsx           # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Preferences.jsx    # åå¥½è®¾ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ Nutrition.jsx      # è¥å…»åˆ†æ
â”‚   â”‚   â”‚   â””â”€â”€ FoodRecommend.jsx  # é£Ÿå“æ¨èé¡µ
â”‚   â”‚   â”œâ”€â”€ services/       # APIè°ƒç”¨
â”‚   â”‚   â””â”€â”€ App.jsx
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## é…ç½®è¯´æ˜

### åç«¯ç¯å¢ƒå˜é‡

| å˜é‡å | æè¿° | é»˜è®¤å€¼ |
|--------|------|--------|
| PORT | æœåŠ¡å™¨ç«¯å£ | 3001 |
| DB_PATH | SQLiteæ•°æ®åº“è·¯å¾„ | ./database/app.db |
| OPENAI_API_KEY | OpenAI APIå¯†é’¥ | your-openai-api-key |
| OPENAI_BASE_URL | OpenAI APIåŸºç¡€URL | https://api.openai.com/v1 |
| AMAP_KEY | é«˜å¾·åœ°å›¾APIå¯†é’¥ | your-amap-api-key |

### å‰ç«¯é…ç½®

å‰ç«¯APIé…ç½®ä½äº `src/services/api.js`ï¼Œå¯ä»¥ä¿®æ”¹ `baseURL` æ¥æŒ‡å‘ä¸åŒçš„åç«¯æœåŠ¡åœ°å€ã€‚

## å¼€å‘è¯´æ˜

### åç«¯å¼€å‘
- ä½¿ç”¨Express.jsæ¡†æ¶
- é‡‡ç”¨MVCæ¶æ„
- ä½¿ç”¨SQLiteæ•°æ®åº“ï¼Œæ— éœ€é¢å¤–å®‰è£…æ•°æ®åº“æœåŠ¡

### å‰ç«¯å¼€å‘
- ä½¿ç”¨Viteä½œä¸ºæ„å»ºå·¥å…·
- ä½¿ç”¨React Routerè¿›è¡Œè·¯ç”±ç®¡ç†
- ä½¿ç”¨Axiosè¿›è¡ŒAPIè°ƒç”¨
- æ”¯æŒçƒ­æ¨¡å—æ›¿æ¢

## è´¡çŒ®æŒ‡å—

1. Forkä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/your-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add some feature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/your-feature`
5. æäº¤Pull Request

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- é¡¹ç›®åœ°å€ï¼šhttps://github.com/your-username/laishi
- é‚®ç®±ï¼šyour-email@example.com

## è‡´è°¢

- æ„Ÿè°¢OpenAIæä¾›çš„LLMæœåŠ¡
- æ„Ÿè°¢é«˜å¾·åœ°å›¾æä¾›çš„åœ°å›¾æœåŠ¡
- æ„Ÿè°¢æ‰€æœ‰ä¸ºé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…

---

**æ¥é£Ÿ** - è®©åƒé¥­ä¸å†çº ç»“ï¼